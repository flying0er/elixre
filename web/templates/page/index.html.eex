<main class="test" role="main" ng-controller="testController">
  <div class="inputs">
    <div>
      <label for="regex">Regex</label>
      <input name="regex"
             type="text"
             class="regex-input"
             autofocus
             ng-trim="false"
             ng-model="regex"
             ng-change="test(regex, subject, modifiers)"
             ng-model-options="{ debounce: 100 }"/>
      <input name="modifiers"
             type="text"
             class="modifiers-input"
             ng-model="modifiers"
             ng-pattern="validModifiers"
             ng-change="test(regex, subject, modifiers)"
             ng-model-options="{ debounce: 100 }"/>
    </div>

    <div>
      <label for="subject">Subject</label>
      <textarea name="subject"
                rows=5
                ng-trim="false"
                ng-model="subject"
                ng-change="test(regex, subject, modifiers)"
                ng-model-options="{ debounce: 100 }"
                ></textarea>
      <label for="split" class="subject-split">Split on newlines?</label>
      <input type="checkbox" name="split" class="subject-split"
             ng-change="test(regex,subject)" ng-model="split">
    </div>
  </div>

  <div ng-controller="resultsController" class="results">
    <pre><div class="results__error"
              ng-if="return.error"
              >Compilation Error!{{ '\n' + (return.error | json) }}</div
              ><div class="results__result"
              ng-repeat="case in return.results"
              ><result data="case"></div></pre>
  </div>
</main>
